package com.jaspervanmerle.freedomfromuncertainty.strategy

import com.jaspervanmerle.freedomfromuncertainty.model.Record

class ProductionStrategy : Strategy() {
    override fun predictPrice(record: Record, previousRecords: List<Record>, nextRecords: List<Record>): Double {
        if (nextRecords.size < 5) {
            return record.tripleExponentialMovingAverage
        }

        return listOf(
            nextRecords[1].tripleExponentialMovingAverage * -25.874081922721075,
            nextRecords[2].doubleExponentialMovingAverage * 26.023394328161,
            nextRecords[1].doubleExponentialMovingAverage * 22.848290202324645,
            nextRecords[2].tripleExponentialMovingAverage * -95.45727981253958,
            nextRecords[3].waysAndMeansAdvances * 96.27714983847545,
            nextRecords[4].triangularMovingAverage * -225.1470452669446,
            nextRecords[4].waysAndMeansAdvances * 609.5774916782393,
            nextRecords[2].waysAndMeansAdvances * -205.39592365463704,
            nextRecords[3].doubleExponentialMovingAverage * -17.789450884784262,
            nextRecords[0].tripleExponentialMovingAverage * 104.35103886770264,
            nextRecords[4].simpleMovingAverage * 1139.0693028095557,
            nextRecords[4].relativeStrengthIndexMiddleBand * 1139.0693028445194,
            nextRecords[3].exponentialMovingAverage * 161.01774618517402,
            nextRecords[4].exponentialMovingAverage * -814.9512455199083,
            nextRecords[3].triangularMovingAverage * -92.4651557433317,
            nextRecords[2].exponentialMovingAverage * 543.1727334788645,
            nextRecords[3].relativeStrengthIndexMiddleBand * -697.4424889236043,
            nextRecords[3].simpleMovingAverage * -697.4424889270258,
            nextRecords[1].waysAndMeansAdvances * 124.2852262118663,
            nextRecords[0].doubleExponentialMovingAverage * -0.22488874578349277,
            nextRecords[3].tripleExponentialMovingAverage * -55.9556163915081,
            nextRecords[4].doubleExponentialMovingAverage * -48.415148020530296,
            nextRecords[4].midPoint * -0.05626676569939748,
            nextRecords[4].midPrice * -0.019867291417354466,
            nextRecords[4].t3MovingAverage * 683.6714932911615,
            nextRecords[3].midPrice * 0.051885772717882805,
            nextRecords[3].midPoint * 0.10475555500871084,
            nextRecords[1].exponentialMovingAverage * 69.59335710330515,
            nextRecords[4].kaufmansAdaptiveMovingAverage * 0.1114454439601898,
            nextRecords[2].simpleMovingAverage * -1058.2905875275028,
            nextRecords[2].relativeStrengthIndexMiddleBand * -1058.2905876177888,
            nextRecords[2].midPrice * -0.16676361089559388,
            nextRecords[2].midPoint * 0.10317362508102713,
            nextRecords[2].triangularMovingAverage * 87.82145815657327,
            nextRecords[3].kaufmansAdaptiveMovingAverage * -0.3574580581943843,
            record.tripleExponentialMovingAverage * -34.35992592351039,
            nextRecords[0].waysAndMeansAdvances * -97.08670249612351,
            nextRecords[1].midPrice * -0.09400687710449332,
            nextRecords[3].t3MovingAverage * -783.4722832430206,
            nextRecords[1].midPoint * -0.642215028958969,
            nextRecords[2].kaufmansAdaptiveMovingAverage * 0.42934109272472165,
            nextRecords[4].tripleExponentialMovingAverage * 116.12660658146973,
            record.doubleExponentialMovingAverage * -0.2291238669453059,
            nextRecords[1].relativeStrengthIndexMiddleBand * 1454.309367720948,
            nextRecords[1].simpleMovingAverage * 1454.3093677171173,
            nextRecords[0].exponentialMovingAverage * -29.81306834937459,
            nextRecords[0].midPrice * 1.0866964922541265,
            nextRecords[1].triangularMovingAverage * -86.78098202044521,
            nextRecords[0].midPoint * -0.3488413634324906,
            nextRecords[2].t3MovingAverage * -359.8444183539883,
            nextRecords[1].kaufmansAdaptiveMovingAverage * -0.3456191401521195,
            record.waysAndMeansAdvances * 326.843897172399,
            nextRecords[0].simpleMovingAverage * -409.007792065182,
            nextRecords[0].relativeStrengthIndexMiddleBand * -409.0077920653421,
            record.exponentialMovingAverage * -96.51550317140709,
            record.midPrice * -0.6615701051866901,
            nextRecords[0].triangularMovingAverage * 82.27800414874605,
            nextRecords[1].t3MovingAverage * 392.57997722668074,
            nextRecords[0].kaufmansAdaptiveMovingAverage * 0.1905530019624831,
            record.midPoint * 0.4780753103104968,
            nextRecords[4].relativeStrengthIndexHighBand * -1177.2806045072539,
            nextRecords[3].relativeStrengthIndexLowerBand * 652.4000674445424,
            record.simpleMovingAverage * 408.70583063974664,
            record.relativeStrengthIndexMiddleBand * 408.70583064046514,
            nextRecords[4].relativeStrengthIndexLowerBand * -1177.3105861590138,
            nextRecords[2].relativeStrengthIndexLowerBand * 1006.2890247338009,
            nextRecords[3].relativeStrengthIndexHighBand * 652.3680636172376,
            nextRecords[1].relativeStrengthIndexLowerBand * -1509.1820516558291,
            record.triangularMovingAverage * 146.59675191664974,
            nextRecords[0].t3MovingAverage * 273.2880668494829,
            record.kaufmansAdaptiveMovingAverage * -0.010722045764888,
            nextRecords[4].htTrendline * 0.28088521388883003,
            nextRecords[0].relativeStrengthIndexLowerBand * 349.7151115819024,
            nextRecords[2].relativeStrengthIndexHighBand * 1006.2759647402718,
            record.t3MovingAverage * -188.42543068251283,
            nextRecords[3].htTrendline * -0.06848696242808616,
            record.relativeStrengthIndexLowerBand * -462.77891593447566,
            nextRecords[1].relativeStrengthIndexHighBand * -1508.7920499040429,
            nextRecords[2].htTrendline * -0.5377533646732303,
            nextRecords[0].relativeStrengthIndexHighBand * 349.16987145148323,
            nextRecords[1].htTrendline * 0.3851847749710243,
            record.relativeStrengthIndexHighBand * -462.5839089077217,
            nextRecords[0].htTrendline * -0.05981796728633565,
            record.htTrendline * 0.02449154640203466,
            nextRecords[4].parabolicStopAndReverse * -0.0050710668871475,
            nextRecords[3].parabolicStopAndReverse * 0.009272775394338573,
            nextRecords[2].parabolicStopAndReverse * 0.0013388050622214938,
            nextRecords[1].parabolicStopAndReverse * 0.02936566387882277,
            nextRecords[0].parabolicStopAndReverse * -0.04205811202887845,
            record.parabolicStopAndReverse * 0.0015558264572139435
        ).sum()
    }
}
